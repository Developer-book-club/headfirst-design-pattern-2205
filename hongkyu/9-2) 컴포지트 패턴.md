









# 1. ì»´í¬ì§€íŠ¸ íŒ¨í„´ ê°„ë³´ê¸°
> ì°¸ê³ í•œ ìë£Œ : https://refactoring.guru/design-patterns/composite

## 1.1. ì§ê´€ì ìœ¼ë¡œ ì´í•´í•´ë³´ê¸°
![image](https://user-images.githubusercontent.com/75282888/172877516-465a123f-7629-40a7-bb21-884915230057.png)


- íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ í‘œí˜„í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì½”ì–´ ëª¨ë¸ì´ íŠ¸ë¦¬ í˜•íƒœë¡œ í‘œí˜„ë˜ëŠ” ê²½ìš°, ìš°ë¦¬ëŠ” ì»´í¬ì§€íŠ¸ íŒ¨í„´ì˜ ì‚¬ìš©ì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì˜ˆë¥¼ ë“¤ì–´, ë‘ê°€ì§€ íƒ€ì…ì˜ í´ë˜ìŠ¤ë¥¼ ìƒìƒí•´ë³¼ê¹Œìš”? `Products`ì™€ `Box`ê°€ ìˆë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤.

- `Box`ì—ëŠ” ë‹¤ì–‘í•œ í˜•íƒœì˜ `Product`ë¥¼ ë‹´ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¬¼ë¡  ìê¸° ìì‹ ë³´ë‹¤ ì‘ì€ `Box` ì—­ì‹œ ë‹´ì„ ìˆ˜ ìˆê² ì§€ìš”. 

- ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  

  



## 1.2. ì½”ë“œë¡œ ì´í•´í•´ë³´ê¸°

```ts
abstract class Component {
    protected parent: Component;
    public setParent(parent: Component) {
        this.parent = parent;
    }
    public getParent(): Component {
        return this.parent;
    }
    public add(component: Component): void { }

    public remove(component: Component): void { }
    
    public isComposite(): boolean {
        return false;
    }
    
    public abstract operation(): string;
}


class Product extends Component {
    public operation(): string {
        return 'ğŸ';
    }
}


class Box extends Component {
    protected children: Component[] = [];

    public add(component: Component): void {
        this.children.push(component);
        component.setParent(this);
    }

    public remove(component: Component): void {
        const componentIndex = this.children.indexOf(component);
        this.children.splice(componentIndex, 1);

        component.setParent(null);
    }

    public isComposite(): boolean {
        return true;
    }

    public operation(): string {
        const results = [];
        for (const child of this.children) {
            results.push(child.operation());
        }

        return `Branch(${results.join('+')})`;
    }
}
```











